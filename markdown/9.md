+ [author](https://github.com/3293172751)
<a href="https://github.com/3293172751" target="_blank"><img src="https://img.shields.io/badge/Github-xiongxinwei-inactive?style=social&logo=github"></a></p>

# ç¬¬9èŠ‚ hashè¡¨å’Œæœ‰åºè¡¨

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](8.md)
> â¤ï¸ğŸ’•ğŸ’•ç®—æ³•å­¦ä¹ ç¬”è®°å’ŒLeetCodeçš„åˆ·é¢˜ç¬”è®°ä¸è®°å½•ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## å“ˆå¸Œè¡¨ï¼š

**å“ˆå¸Œè¡¨**ï¼Œæ˜¯æ ¹æ®keyå€¼ç›´æ¥è¿›è¡Œæ•°æ®è®¿é—®çš„æ•°æ®ç»“æ„ã€‚å³é€šè¿‡ä¸€ä¸ªhashå‡½æ•°ï¼Œå°†keyè½¬æ¢æˆæ¢æˆæ•°ç»„çš„ç´¢å¼•å€¼ï¼Œç„¶åå°†valueå­˜å‚¨åœ¨è¯¥æ•°ç»„çš„ç´¢å¼•ä½ç½®ã€‚å¦‚ä¸‹å›¾ï¼š

![img](https://sm.nsddd.top/1O6fMOMjMf7nbKW6ixMMgFQ.png?mail:3293172751@qq.com)

> 1. å“ˆå¸Œè¡¨åœ¨ä½¿ç”¨å±‚é¢å¯ä»¥ç†è§£ä¸ºä¸€ç§é›†åˆç»“æ„
> 2. å¦‚æœåªæœ‰keyï¼Œæ²¡æœ‰ä¼´éšæ•°æ®valueï¼Œå¯ä»¥ä½¿ç”¨HashSetç»“æ„(C++ä¸­å«UnOrderSet)
> 3. å¦‚æœæ—¢æœ‰keyï¼Œåˆä¼´éšæ•°æ®valueï¼Œå¯ä»¥ä½¿ç”¨HashMapç»“æ„(C++ä¸­å«UnOrderMap)
> 4. æœ‰æ— ä¼´éšæ•°æ®valueï¼Œæ˜¯HashMapå’ŒHashSetçš„å”¯ä¸€åŒºåˆ«ï¼Œåº•å±‚ç»“æ„æ˜¯ä¸€æ ·çš„(HashSetæ˜¯é€šè¿‡HashMapå®ç°çš„ï¼Œåªä¸è¿‡Valueå§‹ç»ˆæ˜¯PRESENT)
> 5. å“ˆå¸Œè¡¨çš„å¢/åˆ /æ”¹/æŸ¥å¯ä»¥è®¤ä¸ºæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä½†æ˜¯å¸¸æ•°æ—¶é—´è¾ƒå¤§
> 6. æ”¾å…¥å“ˆå¸Œè¡¨çš„ä¸œè¥¿
>    + å¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨ä¸ºè¿™ä¸ªä¸œè¥¿çš„å¤§å°ï¼›
>    + å¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨æ˜¯è¿™ä¸ªä¸œè¥¿å†…å­˜åœ°å€çš„å¤§å°

hashè¡¨çš„ç»“æ„è®¾è®¡ä¸­ä¸€èˆ¬æœ‰3ä¸ªå…³é”®é—®é¢˜éœ€è¦è§£å†³ï¼š 

+  **hashå†²çª**ã€‚å³ä¸åŒçš„keyé€šè¿‡hashå‡½æ•°ï¼Œä¼šç”Ÿæˆç›¸åŒçš„hashå€¼ï¼Œå³æ˜ å°„åˆ°ç›¸åŒçš„æ•°ç»„ç´¢å¼•ä¸­ã€‚ 
+  **ç©ºé—´æµªè´¹**ã€‚å³å¦‚æœä¸¤ä¸ªkeyå€¼ï¼Œhashä¹‹åï¼Œç”Ÿæˆçš„ç´¢å¼•å€¼å·®è·è¾ƒå¤§ï¼Œå°±ä¼šå¯¹æ•°ç»„ç©ºé—´äº§ç”Ÿæµªè´¹ã€‚ 
+  **æ‰©å®¹é—®é¢˜**ã€‚å³å½“ç°æœ‰çš„æ•°ç»„ç©ºé—´è¢«å¡«å……æ»¡æ—¶ï¼Œå¦‚ä½•å­˜å‚¨æ›´å¤šçš„é”®å€¼ã€‚

hashå†²çªçš„è§£å†³ä¸€èˆ¬é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆå½“ç„¶è¿˜æœ‰**å¼€æ”¾åœ°å€æ³•**ç­‰ï¼‰ã€‚å³å½“æœ‰ä¸¤ä¸ªä¸åŒçš„keyï¼Œç»è¿‡hashå‡½æ•°ï¼Œè¢«hashåˆ°åŒä¸€ä¸ªä½ç½®çš„æ—¶å€™ï¼Œä¸ç›´æ¥å­˜å‚¨åœ¨è¯¥ç´¢å¼•ä¸‹ï¼Œè€Œæ˜¯å°†è¯¥å€¼åŠ åˆ°é“¾è¡¨ä¸­ï¼Œä»¥å…è¦†ç›–ç¬¬ä¸€ä¸ªå…·æœ‰ç›¸åŒhashçš„keyå€¼ã€‚å¦‚ä¸‹å›¾ï¼Œå‡è®¾aå’Œbçš„hashå€¼ç›¸åŒã€‚

å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œåœ¨goä¸­æ˜¯é€šè¿‡ä½æ“ä½œæ¥è§£å†³çš„ã€‚ å³å°†keyè½¬æ¢æˆhashå€¼åï¼Œå¹¶ä¸ç›´æ¥ç”¨hashä½œä¸ºç´¢å¼•ï¼Œè€Œæ˜¯ç”¨hashå’Œä¸€ä¸ªæ©ç å€¼ï¼ˆä¸€èˆ¬æ˜¯å’Œåº•å±‚æ•°ç»„ä¸ªæ•°æˆ–å…¶ç›¸å…³çš„ä¸€ä¸ªå€¼ï¼‰è¿›è¡Œå–æ¨¡æˆ–ä½æ“ä½œåå¾—åˆ°å¯¹åº”æ•°ç»„çš„ç´¢å¼•å€¼ã€‚

ç¬¬ä¸‰ä¸ªé—®é¢˜æ˜¯æ¶‰åŠåˆ°ç©ºé—´å¢é•¿å’Œæ•°æ®è¿ç§»ï¼Œå³é‡æ–°åˆ†é…æ›´å¤§çš„ç©ºé—´ï¼Œå°†åŸæœ‰çš„keyé‡æ–°hashåˆ°æ–°çš„ç©ºé—´çš„ç´¢å¼•ä½ç½®ä¸Šã€‚

### mapæ•°æ®ç»“æ„

é¦–å…ˆï¼Œæ•´ä½“æ¥çœ‹ä¸‹goä¸­æ•´ä½“mapçš„æ•°æ®ç»“æ„ã€‚å¦‚ä¸‹å›¾ï¼š

![img](assets/f82dd0a7-8727-409b-a749-74bd0d1f500b.png)

å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬å¾—çŸ¥åœ¨mapçš„æ•°æ®ç»“æ„ä¸­ä¸»è¦åŒ…å«hmapï¼Œbmapä¸¤ä¸ªç»“æ„ä½“ã€‚

#### hmapç»“æ„ä½“

åœ¨goä¸­ï¼Œæˆ‘ä»¬åˆå§‹åŒ–æˆ–åˆ›å»ºä¸€ä¸ªmapæ—¶ï¼Œå®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªhmapç»“æ„ä½“ã€‚hmapçš„å®Œæ•´æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š

```go
type hmap struct {
	count      int //mapä¸­çš„å…ƒç´ ä¸ªæ•°
	flags      uint8
	B          uint8 //log_2çš„å¯¹æ•°ï¼Œå³bucketsçš„ä¸ªæ•°ä¸º2^Bæ¬¡æ–¹  
	noverflow  uint16 
	hash0      uint32 //hashç§å­
	buckets    unsafe.Pointer //bucketæ•°ç»„æŒ‡é’ˆ
	oldbuckets unsafe.Pointer //
	nevacuate  uintptr
	extra      *mapextra //æº¢å‡ºçš„buckets
}
```

ä¾‹å¦‚æˆ‘ä»¬ç”¨å¦‚ä¸‹è¯­å¥åˆ›å»ºä¸€ä¸ªmapå˜é‡ï¼š

```go
//åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º10çš„map
m := make(map[string]int, 16)
```

åˆ›å»ºçš„hmapç»“æ„å¦‚ä¸‹ï¼š

![img](assets/7238f785-5e07-4588-ad39-6be21fb658cc.png)

åœ¨hmapç»“æ„ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„å­—æ®µï¼š

- **B** ï¼šlog_2çš„å¯¹æ•°ï¼Œå³bucketçš„ä¸ªæ•°=2^Bæ¬¡æ–¹
- **hash0**ï¼šéšæœºæ•°çš„ç§å­ã€‚Goè¿è¡Œæ—¶ç¯å¢ƒé¿å…hashå†²çªä½¿ç”¨ã€‚
- **buckets**ï¼šåº•å±‚çš„bucketsæ•°ç»„ã€‚
- **extra**ï¼šæº¢å‡ºçš„bucketsæ•°ç»„ã€‚

### æ•°æ®ç»“æ„ä¸­çš„Bå­—æ®µåŠå…¶ä½œç”¨

æ ¹æ®ä¸Šé¢çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯çŸ¥ï¼Œbucketçš„ä¸ªæ•°=2^Bæ¬¡æ–¹ã€‚é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªBå€¼å‘¢ï¼Ÿ **å› ä¸ºæˆ‘ä»¬éœ€è¦ç”¨Bå€¼å’Œhashå€¼ç»è¿‡ä¸€å®šçš„è¿ç®—åï¼Œå¾—åˆ°bucketæ•°ç»„èŒƒå›´å†…çš„ç´¢å¼•index **ã€‚

æˆ‘ä»¬åœ¨ç”¨mapçš„æ—¶å€™ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»è¿‡hashå‡½æ•°åè½¬æ¢æˆæ•°ç»„çš„ç´¢å¼•ã€‚ä½†è¿™ä¸ªå“ˆå¸Œåçš„æ•°å­—ä¸ä¸€å®šåœ¨bucketsçš„æ•°ç»„èŒƒå›´å†…ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬çš„bucketsæ•°ç»„ä¸ªæ•°æ˜¯8ä¸ªï¼Œä¸€ä¸ªkeyç»è¿‡å“ˆå¸Œå‡½æ•°è½¬æ¢æˆçš„å“ˆå¸Œå€¼æ˜¯1378ï¼Œé‚£è¿™ä¸ªå“ˆå¸Œå€¼å°±ä¸èƒ½ç›´æ¥ä½œä¸ºbucketsæ•°ç»„çš„ç´¢å¼•æ¥å­˜å‚¨è¯¥valueã€‚è€Œä¸”ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½ç›´æ¥æ‰©å±•è¯¥æ•°ç»„çš„ç©ºé—´æ¥å­˜å‚¨è¯¥å€¼ï¼Œè¿™æ ·å°†ä¼šæµªè´¹å¤ªå¤šçš„ç©ºé—´ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦Bå’Œhashè¿›è¡ŒæŒ‰ä½ä¸æ“ä½œï¼Œä»¥æ­¤å°†hashå€¼è½åˆ°bucketæ•°ç»„çš„èŒƒå›´ä¹‹å†…ã€‚åœ¨goä¸­ä»£ç å®ç°å¦‚ä¸‹ï¼š

```go
index := hash & (1 << B - 1)
```

### buckets

bucketsæ˜¯mapç»“æ„ä¸­çš„åº•å±‚å­˜å‚¨ç»“æ„ï¼Œbucketsæœ¬è´¨ä¸Šä¸€ä¸ªbmapç±»å‹çš„æ•°ç»„ï¼Œå³æ¯ä¸ªbucketæŒ‡å‘ä¸€ä¸ªbmapç»“æ„ä½“ã€‚æ•°ç»„å¤§å°ç”±Bå­—æ®µå€¼å†³å®šã€‚

```go
type bmap struct {
	tophash [8]uint8 //å®¹é‡ä¸º8çš„æ•°ç»„ï¼Œå­˜å‚¨hashå€¼çš„é«˜ä½
	keys [8]keyType //è¯¥å­—æ®µæ˜¯åœ¨è¿è¡Œæ—¶é˜¶æ®µè‡ªåŠ¨åŠ å…¥çš„ï¼Œåœ¨æºç ä¸­å¹¶æ²¡æœ‰ã€‚
	values [8]valueType //è¯¥å­—æ®µæ˜¯åœ¨è¿è¡Œæ—¶é˜¶æ®µè‡ªåŠ¨åŠ å…¥çš„ï¼Œåœ¨æºç ä¸­å¹¶æ²¡æœ‰ã€‚
}
```

åœ¨bmapç»“æ„ä½“ä¸­ï¼Œtophashæ˜¯ä¸€ä¸ªå›ºå®šå®¹é‡çš„æ•°ç»„ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯keyså’Œvaluesçš„å­˜å‚¨ç»“æ„ã€‚key-valueçš„å­˜å‚¨å¹¶ä¸æ˜¯æˆ‘ä»¬å¸¸è§çš„key-value/key-valueå­˜å‚¨ï¼Œè€Œæ˜¯ä»¥key0/key1/key2/â€¦/key7/value0/value1/â€¦/value7æ ¼å¼å­˜å‚¨çš„ã€‚å³å…ˆå­˜8ä¸ªkeyï¼Œå†å­˜8ä¸ªvalueã€‚è¿™ä¸»è¦æ˜¯è€ƒè™‘åœ¨å†…å­˜å¯¹é½æ–¹é¢ï¼Œå¯ä»¥é¿å…æµªè´¹å†…å­˜ã€‚

### èµ‹å€¼æ“ä½œ

mapçš„èµ‹å€¼æ“ä½œå¦‚ä¸‹ï¼š

```go
m['apple'] = 'mac'
```

èµ‹å€¼æ“ä½œçš„ç›®æ ‡ï¼Œ**æ˜¯å°†appleç»è¿‡hashä¹‹åï¼Œæ‰¾åˆ°å¯¹åº”çš„bucketï¼Œå¹¶å­˜å‚¨åˆ°bmapç»“æ„ä½“ä¸­**ã€‚

è®¡ç®—æ­¥éª¤å¦‚ä¸‹ï¼š 1ã€æ ¹æ®keyç”Ÿæˆhashå€¼ 2ã€æ ¹æ®hashå’ŒBè®¡ç®—bucketçš„ç´¢å¼• 3ã€æ ¹æ®bucketç´¢å¼•å’Œbucketsizeè®¡ç®—å¾—åˆ°bucketsæ•°ç»„çš„èµ·å§‹åœ°å€ 4ã€è®¡ç®—hashçš„é«˜ä½å€¼top 5ã€åœ¨tophashæ•°ç»„ä¸­ä¾æ¬¡è¯¥tophashå€¼æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œå¹¶ä¸”keyå’Œå­˜å‚¨çš„keyç›¸ç­‰ï¼Œåˆ™æ›´æ–°è¯¥key/valueã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä»tophashæ•°ç»„æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç©ºä½ç½®ï¼Œä¿å­˜è¯¥tophashå’Œkey/value

**åœºæ™¯ä¸€ï¼štophashæ•°ç»„æœªæ»¡ï¼Œä¸”kå€¼ä¸å­˜åœ¨æ—¶ï¼Œåˆ™æŸ¥æ‰¾ç©ºé—²ç©ºé—´ï¼Œç›´æ¥èµ‹å€¼** ![img](assets/7e4476c9-e10f-4a9f-838b-f65766498cb9.png)

**åœºæ™¯äºŒï¼štophashæ•°ç»„æœªæ»¡ï¼Œä¸”kå€¼å·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°è¯¥k**

![img](assets/1d51dbfe-43e6-4bfd-8841-8085b997c9ce.png)

**åœºæ™¯ä¸‰ï¼štophashæ•°ç»„å·²æ»¡ï¼Œä¸”kå€¼ä¸åœ¨å½“å‰çš„bucketçš„tophashä¸­ï¼Œåˆ™ä»bmapç»“æ„ä½“ä¸­çš„buoverflowtä¸­æŸ¥æ‰¾ï¼Œå¹¶åšæ›´æ–°æˆ–æ–°å¢**

![img](assets/09d6009e-06ef-4197-a3b4-bd8da10c6b5d.png)

### hashå†²çª

ç”±ä¸Šé¢çš„èµ‹å€¼æ“ä½œå¯çŸ¥ï¼Œå½“é‡åˆ°hashå†²çªçš„æ—¶å€™ï¼Œgoçš„è§£å†³æ–¹æ³•æ˜¯å…ˆåœ¨tophashçš„æ•°ç»„ä¸­æŸ¥æ‰¾ç©ºé—²çš„ä½ç½®ï¼Œå¦‚æœæœ‰ç©ºé—²çš„ä½ç½®åˆ™å­˜å…¥ã€‚å¦‚æœæ²¡æœ‰ç©ºé—²ä½ç½®ï¼Œåˆ™åœ¨bmapçš„overflowæŒ‡é’ˆæŒ‡å‘çš„bucketä¸­çš„tophashä¸­ç»§ç»­æŸ¥ï¼Œä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°æ‰¾ä¸ç­‰äºè¯¥keyçš„ç©ºé—²ä½ç½®ï¼Œä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°ä»tophashä¸­æ‰¾åˆ°ä¸€ä¸ªç©ºé—²ä½ç½®ä¸ºæ­¢ã€‚ ![img](assets/d7dfc500-8ca0-48d3-a902-50696720ee26.png)



## javaä¸­å“ˆå¸Œè¡¨ä½¿ç”¨

```java
public static void main(String[] args){
    HashMap<String,String>map = new HashMap<>();  //key:value(String)
    map.put("hello","æˆ‘æ˜¯xiongxinwei");
    System.out.println(map.containsKey("hello")); //true
    System.out.println(map.containsKey("helloword")); //false : æ²¡æœ‰åŠ hellowordè¿™ä¸ªkey
    System.out.println(map.get("hello")); //æˆ‘æ˜¯xiongxinwei
    
    //æ›´æ–°
    map.put("hello","ä»–æ˜¯xiongxinwei");   //æ›´æ–°çš„æ˜¯valueæ“ä½œ
    System.out.println(map.get("hello")); //ä»–æ˜¯xiongxinwei
    
    map.remove("hello");   //ç§»é™¤hello
    System.out.println(map.containsKey("hello")); //false
}
```

**ä¸Šé¢çš„å¢åˆ æ”¹æŸ¥éƒ½æ˜¯`O(1)`çš„æ—¶é—´,éƒ½æ˜¯å›ºå®šæ—¶é—´,ä½†æ˜¯è¿™ä¸ªå›ºå®šæ—¶é—´æ˜¯æ¯”è¾ƒå¤§çš„.**

+ å“ˆå¸Œè¡¨ä¸­æ˜¯ä¸ä¼šè®¤ä¸ºä½ çš„æ•°æ®ç±»å‹ä¸åŒ,åœ¨å“ˆå¸Œè¡¨ä¸­éƒ½æ˜¯æŒ‰ç…§å€¼ä¼ é€’,å€¼ç›¸åŒ,å°±ç›¸åŒ
+ éåŸºç¡€ç±»å‹(æˆ–è€…æ˜¯è‡ªå·±å®šä¹‰çš„ç±»å‹),æ˜¯æŒ‰ç…§å¼•ç”¨ä¼ é€’çš„ã€‚



## æœ‰åºè¡¨ï¼š

> 1. æœ‰åºè¡¨åœ¨ä½¿ç”¨å±‚é¢å¯ä»¥ç†è§£ä¸ºä¸€ç§é›†åˆç»“æ„
> 2. å¦‚æœåªæœ‰keyï¼Œæ²¡æœ‰ä¼´éšæ•°æ®valueï¼Œå¯ä»¥ä½¿ç”¨TreeSetç»“æ„(C++ä¸­å«OrderSet)
> 3. å¦‚æœæ—¢æœ‰keyï¼Œåˆä¼´éšæ•°æ®valueï¼Œå¯ä»¥ä½¿ç”¨TreeMapç»“æ„(C++ä¸­å«OrderMap)
> 4. æœ‰æ— ä¼´éšæ•°æ®valueï¼Œæ˜¯TreeSetå’ŒTreeMapçš„å”¯ä¸€åŒºåˆ«ï¼Œåº•å±‚ç»“æ„æ˜¯ä¸€æ ·çš„
> 5. æœ‰åºè¡¨çš„å¢/åˆ /æ”¹/æŸ¥å¯ä»¥è®¤ä¸ºæ—¶é—´å¤æ‚åº¦ä¸ºO(logN)
> 6. **çº¢é»‘æ ‘ã€AVLæ ‘ã€size-balance-treeå’Œè·³è¡¨éƒ½å±äºæœ‰åºè¡¨ç»“æ„ï¼Œåªæ˜¯åº•å±‚å…·ä½“å®ç°ä¸åŒ**
> 7. æ”¾å…¥æœ‰åºè¡¨çš„ä¸œè¥¿
>    + å¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨ä¸ºè¿™ä¸ªä¸œè¥¿çš„å¤§å°ï¼›
>    + å¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå¿…é¡»æä¾›æ¯”è¾ƒå™¨ï¼ˆå¦‚ä¸‹ä»£ç ï¼‰ï¼Œä¸”å†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨æ˜¯è¿™ä¸ªä¸œè¥¿å†…å­˜åœ°å€çš„å¤§å°



## æœ‰åºè¡¨çš„ä½¿ç”¨

```java
treeMap<Integer,String> treeMap1 = new TreeSet<>();   //treeMap
// åŸºç¡€ç±»å‹<>()
// éåŸºç¡€ç±»å‹<>(...)
treeMap.put(1,"æˆ‘æ˜¯1");
treeMap.put(2,"æˆ‘æ˜¯2");
treeMap.put(3,"æˆ‘æ˜¯3");  //1,2,3
System.out.println(treeMap1.containsKey(1)); //true
System.out.println(treeMap1.containsKey(4)); //false
System.out.println(treeMap1.get(1)); //"æˆ‘æ˜¯1"

treeMap1.put(3,"æˆ‘æ˜¯3");   //update
treeMap1.remove(1);  //ç§»é™¤
System.out.println(treeMap1.containsKey(1)); //false
```

**æœ‰åºè¡¨è¦æ¯”å“ˆå¸Œè¡¨å¼ºå¤§çš„åœ°æ–¹åœ¨äº:**

> treeMapä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯`log(n)`çš„çº§åˆ«,æ²¡æœ‰å“ˆå¸Œè¡¨é‚£ä¹ˆå°,ä½†æ˜¯åŠŸèƒ½å¾ˆå¼º
>
> + `firstKey()`è·å–æœ€å°çš„key
> + `lastKey()`è·å–æœ€å¤§çš„key

```java
System.out.println(treeMap1.firstKey());  //æœ€å°çš„Key :0
System.out.println(treeMap1.lastKey());   //æœ€å¤§çš„Key :3

// æŠŠå°äºç­‰äº2 çš„, è·ç¦»2æœ€è¿‘çš„Keyå‘Šè¯‰æˆ‘
System.out.println(treeMap1.floorKey(2));   //2

// æŠŠå¤§äºç­‰äº0 çš„, è·ç¦»0æœ€è¿‘çš„Keyå‘Šè¯‰æˆ‘
System.out.println(treeMap1.ceilingKey(1));   //1
```

**ä¸Šé¢çš„Keyä¸èƒ½è‡ªå·±å®šä¹‰,ä¸ç„¶ä¼šæŠ¥é”™,å¦‚ä½•è‡ªå·±å®šä¹‰æ¯”è¾ƒå™¨:**

> éåŸºç¡€ç±»å‹<>(...)ï¼Œéœ€è¦æ¯”è¾ƒå™¨

```java
tree = new TreeSet<>(new NodeComparator());
//ä»¥ä¸‹ä»£ç æ²¡é—®é¢˜ï¼Œå› ä¸ºæä¾›äº†NodeComparatorï¼ˆï¼‰æ¯”è¾ƒå™¨
//tree = new TreeSet<>();  --   ä¸‹é¢åŠ å…¥nodeABC ä¸€å®šä¼šå‡ºé”™
try{
	treeSet.add(nodeA);
	treeSet.add(nodeB);
	treeSet.add(nodeC);
} catch(Exception e){
	System.out.println(e.getMessage());
}
```



## æ¡ˆä¾‹Leetcode

+ [leetcode705](https://leetcode.cn/problems/design-hashset/)

+ [leetcode.com](https://leetcode.com/problems/design-hashset/)

> Design a HashSet without using any built-in hash table libraries.
>
> Implement `MyHashSet` class:
>
> + `void add(key)` Inserts the value `key` into the HashSet.
> + `bool contains(key)` Returns whether the value `key` exists in the HashSet or not.
> + `void remove(key)` Removes the value `key` in the HashSet. If `key` does not exist in the HashSet, do nothing.
>
> **Example 1:**
>
> ```
> Input
> ["MyHashSet", "add", "add", "contains", "contains", "add", "contains", "remove", "contains"]
> [[], [1], [2], [1], [3], [2], [2], [2], [2]]
> Output
> [null, null, null, true, false, null, true, null, false]
> 
> Explanation
> MyHashSet myHashSet = new MyHashSet();
> myHashSet.add(1);      // set = [1]
> myHashSet.add(2);      // set = [1, 2]
> myHashSet.contains(1); // return True
> myHashSet.contains(3); // return False, (not found)
> myHashSet.add(2);      // set = [1, 2]
> myHashSet.contains(2); // return True
> myHashSet.remove(2);   // set = [1]
> myHashSet.contains(2); // return False, (already removed)
> ```

### ä»£ç 

```java
class MyHashSet {
    private static final int BASE = 769;
    private LinkedList[] data;

    /** Initialize your data structure here. */
    public MyHashSet() {
        data = new LinkedList[BASE];
        for (int i = 0; i < BASE; ++i) {
            data[i] = new LinkedList<Integer>();
        }
    }
    
    public void add(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();    //
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                return;
            }
        }
        data[h].offerLast(key);
    }
    
    public void remove(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                data[h].remove(element);
                return;
            }
        }
    }
    
    /** Returns true if this set contains the specified element */
    public boolean contains(int key) {
        int h = hash(key);
        Iterator<Integer> iterator = data[h].iterator();
        while (iterator.hasNext()) {
            Integer element = iterator.next();
            if (element == key) {
                return true;
            }
        }
        return false;
    }

    private static int hash(int key) {
        return key % BASE;
    }
}

/**
 * Your MyHashSet object will be instantiated and called as such:
 * MyHashSet obj = new MyHashSet();
 * obj.add(key);
 * obj.remove(key);
 * boolean param_3 = obj.contains(key);
 */
```



## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](8.md)
+ [ä¸‹ä¸€èŠ‚](10.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)